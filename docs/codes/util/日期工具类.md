# 日期工具类

## 1.根据生日获取年数月数天数，可以用来计算年龄范围`1天-2年`

### 1.1 根据用户生日获取年龄

```java
/**
* 根据用户生日获取年龄
* @param birthday 生日
* @return 年数
*/
public static int getYearByBirthday(LocalDate birthday){
    LocalDate now = LocalDate.now();
    if(now.isBefore(birthday)){
        throw new IllegalArgumentException(
            "The birthDay is before Now.It's unbelievable!");
    }
    //        取出当前年月日
    int yearNow = now.getYear();
    int monthNow = now.getMonthValue();
    int dayNow = now.getDayOfMonth();
    //        取出出生年月日
    int yearBirth = birthday.getYear();
    int monthBirth = birthday.getMonthValue();
    int dayBirth = birthday.getDayOfMonth();
    //        大概年龄是当前年减去出生年
    int age = yearNow - yearBirth;
    //        如果出当前月小于出生月，或者当前月等于出生月但是当前日小于出生日，那么年龄age就减一岁
    if(monthNow < monthBirth || (monthNow == monthBirth && dayNow < dayBirth)){
        age--;
    }
    return age;
}
```

### 1.2 根据用户生日获取月龄

```java
/**
* 根据用户生日获取月龄
* @param birthday 生日
* @return 月数
*/
public static int getMonthByBirthday(LocalDate birthday){
    LocalDate now = LocalDate.now();
    int day = now.getDayOfMonth() - birthday.getDayOfMonth();
    int month = now.getMonthValue() - birthday.getMonthValue();
    int year = now.getYear() - birthday.getYear();

    //按照减法原理，先day相减，不够向month借；然后month相减，不够向year借；最后year相减。
    if (day < 0) {
        month = month - 1;
        int dayOfMonth = now.minusMonths(1).with(TemporalAdjusters.lastDayOfMonth()).getDayOfMonth();
        day = day + dayOfMonth;
    }
    if (month < 0) {
        month = (month +12) % 12;
        year--;
    }
    int monthValue = 0;
    if (year > 0) {
        monthValue = year * 12;
    }
    if (month > 0) {
        monthValue = monthValue + month;
    }
    if (year == 0 && month == 0 && day == 0) {
        monthValue = 0;
    }
    return monthValue;
}
```

### 1.3 根据生日获取日龄

```java
/**
 * 根据生日获取日龄
 * @param birthday 生日
 * @return 天数
 */
public static int getDayByBirthday(LocalDate birthday) {
        return (int) (LocalDate.now().toEpochDay() - birthday.toEpochDay());
        }
```